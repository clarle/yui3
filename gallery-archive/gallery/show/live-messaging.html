<html>
	<head>
		<title>YUI Library - Gallery :: Live Messaging</title>
		<link href="https://github.com/asotog" rel="author" title="asotog" />
		<meta charset="utf-8" />
		<link href="http://yui.yahooapis.com/combo?2.8.2/build/reset-fonts-grids/reset-fonts-grids.css" rel="stylesheet" />
		<link href="../../assets/skin/yuilib-08.25.2011.css" rel="stylesheet" />
		<link href="http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic" rel="stylesheet" />
		<link href="https://yui-s.yahooapis.com/3.9.0/build/cssgrids/cssgrids-min.css" rel="stylesheet" />
		<link href="../../combo/css@main-min.css" rel="stylesheet" />
		<meta content="IE=Edge,chrome=1" http-equiv="X-UA-Compatible" />
		<meta content="/xrds.xml" http-equiv="X-XRDS-Location" />
		<link href="../../img/favicon.png" rel="shortcut icon" type="image/png" />
	</head>
	<body class="yui3-skin-sam">
		<div id="wrap">
			<div class="yui-t2 gallery" id="doc3"><a name="top"></a><div class="yui3-g" id="hd">
					<ul class="gallery-header-links">
						<li><a href="http://www.yuilibrary.com">YUI Home</a><li><a href="../index.html">Gallery Archive</a></ul>
					<div class="content">
						<div class="yui3-u-1-4">
							<ul id="userinfo">
							</ul>
						</div>
					</div>
				</div>
				<div id="bd">
					<div class="yui3-u-1" id="breadcrumbs">
						<ul class="breadcrumbs">
							<li class="crumb"><a href="http://yuilibrary.com/">YUI</a><li class="separator">&gt;<li class="crumb"><a href="http://yuilibrary.com/community/">Community</a><li class="separator">&gt;<li class="crumb"><a href="../index.html">Gallery</a></ul>
					</div>
					<div class="content" id="docs-hd">
						<h1>Gallery</h1>
					</div>
					<div id="deprecated">
						<p>The Gallery is deprecated. No new Gallery components may be submitted, and modifying existing components is disabled. For more information please read the <a href="http://www.yuiblog.com/blog/2014/06/16/yui-gallery-deprecation-announcement/">Gallery Deprecation blog post</a>. This is a static snapshot of the Gallery for archive purposes. </div>
					<div id="content-wrap">
						<div class="yui-b">
							<div class="sidenav">
								<div class="sidebox">
									<div class="hd">
										<h2>Modules</h2>
									</div>
									<div class="bd">
										<ul class="blank">
											<li><img src="../../assets/home.png" /> <a href="../index.html">Home</a><li><img src="../../assets/gallery/star.png" /> <a href="../featured.html">Featured</a><li><img src="../../assets/gallery/thumb_up.png" /> <a href="../popular.html">Popular</a><li><img src="../../assets/gallery/greenled.png" /> <a href="../new.html">New</a><li><img src="../../assets/gallery/script_code_red.png" /> <a href="../show.html">All</a></ul>
									</div>
								</div>
								<div class="sidebox">
									<div class="hd">
										<h2>Documentation</h2>
									</div>
									<div class="bd">
										<ul class="blank">
											<li><img src="../../assets/script.png" /> <a href="http://yui.github.com/yogi/">Yogi Documentation</a><li><img src="../../assets/notepaper.png" /> <a href="http://yui.github.com/shifter/">Shifter Documentation</a><li><img src="../../assets/gallery/book.png" /> <a href="http://yuilibrary.com/yui/docs/tutorials/gallery">Developer Guide</a><li><img src="../../assets/gear.png" /> <a href="../setup.html">Module Setup</a></ul>
									</div>
								</div>
							</div>
						</div>
						<div id="yui-main">
							<div class="yui-b" id="gallery">
								<div class="yui-g">
									<div class="nav" id="ctxtnav">
										<h2>Context Navigation</h2>
										<ul>
										</ul>
									</div>
									<div class="warning"> YUI Library is not responsible for bugs or support with this module. It is available as a free service. For support please contact the module owner with the provided links. </div>
									<div class="gallery-item" id="gallery-item_467">
										<div class="item-hd">
											<h2>Live Messaging (gallery-live-messaging) </h2> Last Updated: <span title="22 Sep 2011 22:20">09/22/11</span><div class="votes"><a class="up" href="#" title="Vote this item up.">+</a> <span>0</span> <a class="down" href="#" title="Vote this item down.">-</a></div>
										</div>
										<div class="mod">
											<div class="yui-gf profile">
												<div class="yui-u first">
													<h3><img class="medal" src="../../assets/medal_silver.png" title="CLA Signed" /> <span class="gallery-user">alejandro soto gonzalez</span></h3>
													<h4>YUI Contributor</h4>
													<p><img src="http://www.gravatar.com/avatar/62aaa6b7ec0a186c8427b6e11bd1b550?s=64&d=http://yuilibrary.com/assets/gravatar-64.png" /><p><a href="../user/asotog88.html">See 2 more by this user.</a> Created: <span title="16 Aug 2011 21:10">08/16/11</span><br /> Project: <a href="http://yuilibrary.com/projects/yui3">YUI 3</a><br /> License: <a href="http://yuilibrary.com/license/" target="_blank">YUI BSD</a><br /> YUI Version: 3.4.1 PR1<br /> Free for use. </div>
												<div class="yui-u">
													<div class="desc"><span class="wikipage"><p>With this module you only have to define the callback methods to show the messages that are being pulled from the server side, PHP in this case, or the configuration to publish messages to the live channel. However you will have to modify the max_execution_time variable in the PHP configuration (php.ini) to create a messages pool in your server. Is an alternative to develop rich applications with YUI 3 and to synchronize the browsers in order to have more responsive RIAs in real time.</span></div>
												</div>
												<div class="tags">
													<ul>
														<li>Tags: <li><a href="../tag/asotog88.html" title="Search by this tag: asotog88">asotog88</a></ul>
												</div>
											</div>
										</div>
										<ul class="gallery-links">
											<li class="download"><a href="http://sourceforge.net/projects/yuimessages/files/gallery-live-messaging-1.0.zip/download" target="_blank" title="Download">Download</a><li class="docs empty">Docs<li class="homepage"><a href="https://sourceforge.net/projects/yuimessages/" target="_blank" title="Homepage">Homepage</a><li class="bugs"><a href="https://sourceforge.net/projects/yuimessages/" target="_blank" title="Bugs">Bugs</a><li class="source"><a href="https://sourceforge.net/p/yuimessages/code/1/tree/module/messagingObject.js?force=True" target="_blank" title="Source">Source</a><li class="example empty">Example<li class="forum empty">Forum<li class="history"><a href="../history/live-messaging.html" title="History">History</a></ul>
										<div class="mod"><span class="wikipage"><p>As you can see, you only have to define the events in order to get the messages published by other clients or the event to know if a message was successfully sent.</span><h3 id="code">Code Sample</h3>
											<div class="syntax-highlight" id="yui-syn-1"><pre class="javascript" style="font-family:monospace;">YUI<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>.<span style="color: #003366; font-weight: bold;">use</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'gallery-live-messaging'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>Y<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
&nbsp;
&nbsp;
    <span style="color: #003366; font-weight: bold;">function</span> successEvent<span style="color: #009900;">&#40;</span>event<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>
        <span style="color: #006600; font-style: italic;">//inject messages in the markup</span>
        <span style="color: #003366; font-weight: bold;">var</span> ul <span style="color: #339933;">=</span>  Y.<span style="color: #660066;">one</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'#list ul'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        ul.<span style="color: #660066;">set</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'innerHTML'</span><span style="color: #339933;">,</span> ul.<span style="color: #660066;">get</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'innerHTML'</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">'&lt;li&gt;'</span> <span style="color: #339933;">+</span> event.<span style="color: #660066;">result</span>.<span style="color: #660066;">data</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">'&lt;/li&gt;'</span> <span style="color: #009900;">&#41;</span>
    <span style="color: #009900;">&#125;</span>
&nbsp;
    <span style="color: #003366; font-weight: bold;">function</span> messageSentEvent<span style="color: #009900;">&#40;</span>event<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>
        <span style="color: #006600; font-style: italic;">//message successfully sent</span>
    <span style="color: #009900;">&#125;</span>
&nbsp;
    <span style="color: #003366; font-weight: bold;">function</span> messageSentErrorEvent<span style="color: #009900;">&#40;</span>event<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>
        <span style="color: #000066;">alert</span><span style="color: #009900;">&#40;</span>event.<span style="color: #660066;">message</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>
&nbsp;
    <span style="color: #009966; font-style: italic;">/* DOM READY TRIGGER */</span>
    Y.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'domready'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
&nbsp;
    	<span style="color: #006600; font-style: italic;">//configuration to publish messages</span>
	    <span style="color: #003366; font-weight: bold;">var</span> externalPublisherCfg <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span>
	      channel <span style="color: #339933;">:</span> <span style="color: #3366CC;">'default'</span><span style="color: #339933;">,</span>
	      <span style="color: #006600; font-style: italic;">//dispatcher url</span>
	      url <span style="color: #339933;">:</span> <span style="color: #3366CC;">'back-end/dispatcher.php'</span><span style="color: #339933;">,</span>
	      <span style="color: #006600; font-style: italic;">//events</span>
	      success <span style="color: #339933;">:</span> messageSentEvent<span style="color: #339933;">,</span>
	      error <span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span><span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
	      complete <span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span><span style="color: #009900;">&#125;</span> <span style="color: #339933;">,</span>
	      method <span style="color: #339933;">:</span> <span style="color: #3366CC;">'GET'</span><span style="color: #339933;">,</span>
	      <span style="color: #006600; font-style: italic;">//infinite timeout</span>
	      timeout <span style="color: #339933;">:</span> <span style="color: #CC0000;">0</span> <span style="color: #006600; font-style: italic;">// 0 to infinite timeout</span>
	    <span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span>
&nbsp;
	    <span style="color: #006600; font-style: italic;">//configuration to subscribe to messages</span>
	    <span style="color: #003366; font-weight: bold;">var</span> externalSubscriberCfg <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span>
	        channel <span style="color: #339933;">:</span> <span style="color: #3366CC;">'default'</span><span style="color: #339933;">,</span>
	        <span style="color: #006600; font-style: italic;">//dispatcher url</span>
	        url <span style="color: #339933;">:</span> <span style="color: #3366CC;">'back-end/dispatcher.php'</span><span style="color: #339933;">,</span>
	        <span style="color: #006600; font-style: italic;">//events</span>
	        success <span style="color: #339933;">:</span> successEvent<span style="color: #339933;">,</span>
	        error <span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>event<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span><span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
	        complete <span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>event<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span><span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
	        method <span style="color: #339933;">:</span> <span style="color: #3366CC;">'GET'</span><span style="color: #339933;">,</span>
	        <span style="color: #006600; font-style: italic;">//infinite timeout</span>
	        timeout <span style="color: #339933;">:</span> <span style="color: #CC0000;">0</span> <span style="color: #006600; font-style: italic;">// 0 to infinite timeout</span>
	        <span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span>
&nbsp;
	    <span style="color: #006600; font-style: italic;">//initializes the messaging object</span>
    	<span style="color: #003366; font-weight: bold;">var</span> msgObject <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> Y.<span style="color: #660066;">messagingObject</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    	msgObject.<span style="color: #660066;">publishToChannel</span><span style="color: #009900;">&#40;</span>externalPublisherCfg<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    	msgObject.<span style="color: #660066;">subscribeToChannel</span><span style="color: #009900;">&#40;</span>externalSubscriberCfg<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    	msgObject.<span style="color: #660066;">connect</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
    	Y.<span style="color: #660066;">one</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'#boton'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'click'</span><span style="color: #339933;">,</span><span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>e<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>
    		e.<span style="color: #660066;">preventDefault</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    		msgObject.<span style="color: #660066;">send</span><span style="color: #009900;">&#40;</span>Y.<span style="color: #660066;">one</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'#texto'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">get</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'value'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    		Y.<span style="color: #660066;">one</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'#texto'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">set</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'value'</span><span style="color: #339933;">,</span><span style="color: #3366CC;">''</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    	<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre><textarea id="yui-syn-1-plain">YUI().use('gallery-live-messaging', function(Y) {

 



    function successEvent(event){

        //inject messages in the markup

        var ul =  Y.one('#list ul');

        ul.set('innerHTML', ul.get('innerHTML') + '&lt;li&gt;' + event.result.data + '&lt;/li&gt;' )

    }



    function messageSentEvent(event){

        //message successfully sent

    }



    function messageSentErrorEvent(event){

        alert(event.message);

    }

    

    /* DOM READY TRIGGER */

    Y.on('domready', function() {

    	

    	//configuration to publish messages

	    var externalPublisherCfg = {

	      channel : 'default',

	      //dispatcher url

	      url : 'back-end/dispatcher.php',

	      //events

	      success : messageSentEvent,

	      error : function(){},

	      complete : function(){} ,

	      method : 'GET',

	      //infinite timeout

	      timeout : 0 // 0 to infinite timeout

	    };

	    

	    //configuration to subscribe to messages

	    var externalSubscriberCfg = {

	        channel : 'default',

	        //dispatcher url

	        url : 'back-end/dispatcher.php',

	        //events

	        success : successEvent,

	        error : function(event){},

	        complete : function(event){},

	        method : 'GET',

	        //infinite timeout

	        timeout : 0 // 0 to infinite timeout

	        };

	    

	    //initializes the messaging object

    	var msgObject = new Y.messagingObject();

    	msgObject.publishToChannel(externalPublisherCfg);

    	msgObject.subscribeToChannel(externalSubscriberCfg);

    	msgObject.connect();

    	

    	Y.one('#boton').on('click',function(e){

    		e.preventDefault();

    		msgObject.send(Y.one('#texto').get('value'));

    		Y.one('#texto').set('value','');

    	});

    });



});</textarea>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div id="ft">
					<p class="copyright"> All code on this site is licensed under the <a href="http://yuilibrary.com/license/">BSD License</a> unless stated otherwise.<br />
				</div>
			</div>
		</div>
	</body>
</html>