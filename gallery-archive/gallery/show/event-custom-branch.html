<html>
	<head>
		<title>YUI Library - Gallery :: Event Custom Branch</title>
		<link href="https://github.com/solmsted" rel="author" title="solmsted" />
		<meta charset="utf-8" />
		<link href="http://yui.yahooapis.com/combo?2.8.2/build/reset-fonts-grids/reset-fonts-grids.css" rel="stylesheet" />
		<link href="../../assets/skin/yuilib-08.25.2011.css" rel="stylesheet" />
		<link href="http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic" rel="stylesheet" />
		<link href="https://yui-s.yahooapis.com/3.9.0/build/cssgrids/cssgrids-min.css" rel="stylesheet" />
		<link href="../../combo/css@main-min.css" rel="stylesheet" />
		<meta content="IE=Edge,chrome=1" http-equiv="X-UA-Compatible" />
		<meta content="/xrds.xml" http-equiv="X-XRDS-Location" />
		<link href="../../img/favicon.png" rel="shortcut icon" type="image/png" />
	</head>
	<body class="yui3-skin-sam">
		<div id="wrap">
			<div class="yui-t2 gallery" id="doc3"><a name="top"></a><div class="yui3-g" id="hd">
					<ul class="gallery-header-links">
						<li><a href="http://www.yuilibrary.com">YUI Home</a><li><a href="../index.html">Gallery Archive</a></ul>
					<div class="content">
						<div class="yui3-u-1-4">
							<ul id="userinfo">
							</ul>
						</div>
					</div>
				</div>
				<div id="bd">
					<div class="yui3-u-1" id="breadcrumbs">
						<ul class="breadcrumbs">
							<li class="crumb"><a href="http://yuilibrary.com/">YUI</a><li class="separator">&gt;<li class="crumb"><a href="http://yuilibrary.com/community/">Community</a><li class="separator">&gt;<li class="crumb"><a href="../index.html">Gallery</a></ul>
					</div>
					<div class="content" id="docs-hd">
						<h1>Gallery</h1>
					</div>
					<div id="deprecated">
						<p>The Gallery is deprecated. No new Gallery components may be submitted, and modifying existing components is disabled. For more information please read the <a href="http://www.yuiblog.com/blog/2014/06/16/yui-gallery-deprecation-announcement/">Gallery Deprecation blog post</a>. This is a static snapshot of the Gallery for archive purposes. </div>
					<div id="content-wrap">
						<div class="yui-b">
							<div class="sidenav">
								<div class="sidebox">
									<div class="hd">
										<h2>Modules</h2>
									</div>
									<div class="bd">
										<ul class="blank">
											<li><img src="../../assets/home.png" /> <a href="../index.html">Home</a><li><img src="../../assets/gallery/star.png" /> <a href="../featured.html">Featured</a><li><img src="../../assets/gallery/thumb_up.png" /> <a href="../popular.html">Popular</a><li><img src="../../assets/gallery/greenled.png" /> <a href="../new.html">New</a><li><img src="../../assets/gallery/script_code_red.png" /> <a href="../show.html">All</a></ul>
									</div>
								</div>
								<div class="sidebox">
									<div class="hd">
										<h2>Documentation</h2>
									</div>
									<div class="bd">
										<ul class="blank">
											<li><img src="../../assets/script.png" /> <a href="http://yui.github.com/yogi/">Yogi Documentation</a><li><img src="../../assets/notepaper.png" /> <a href="http://yui.github.com/shifter/">Shifter Documentation</a><li><img src="../../assets/gallery/book.png" /> <a href="http://yuilibrary.com/yui/docs/tutorials/gallery">Developer Guide</a><li><img src="../../assets/gear.png" /> <a href="../setup.html">Module Setup</a></ul>
									</div>
								</div>
							</div>
						</div>
						<div id="yui-main">
							<div class="yui-b" id="gallery">
								<div class="yui-g">
									<div class="nav" id="ctxtnav">
										<h2>Context Navigation</h2>
										<ul>
										</ul>
									</div>
									<div class="warning"> YUI Library is not responsible for bugs or support with this module. It is available as a free service. For support please contact the module owner with the provided links. </div>
									<div class="gallery-item" id="gallery-item_563">
										<div class="item-hd">
											<h2>Event Custom Branch (gallery-event-custom-branch) </h2> Last Updated: <span title="21 Jun 2012 13:15">06/21/12</span><div class="votes"><a class="up" href="#" title="Vote this item up.">+</a> <span>0</span> <a class="down" href="#" title="Vote this item down.">-</a></div>
										</div>
										<div class="mod">
											<div class="yui-gf profile">
												<div class="yui-u first">
													<h3><img class="medal" src="../../assets/medal_silver.png" title="CLA Signed" /> <span class="gallery-user">Steven Olmsted</span></h3>
													<h4>YUI Contributor</h4>
													<p><img src="http://www.gravatar.com/avatar/d49156801406cf2236d35e086149691a?s=64&d=http://yuilibrary.com/assets/gravatar-64.png" /><p><a href="../user/solmsted.html">See 42 more by this user.</a> Created: <span title="01 Mar 2012 06:05">03/1/12</span><br /> Project: <a href="http://yuilibrary.com/projects/yui3">YUI 3</a><br /> License: <a href="http://yuilibrary.com/license/" target="_blank">YUI BSD</a><br /> YUI Version: 3.5.0pr2<br /> Free for use. </div>
												<div class="yui-u">
													<div class="desc"><span class="wikipage"><p>EventTargets have the capability to add another EventTarget allowing events to bubble up and get handled elsewhere in an application. Event bubbling is quite useful when working with the DOM and equally so when working with custom events.<p>EventTarget has an added feature that DOM nodes don't have, an EventTarget can have multiple bubble targets. An event will bubble to the bubble targets in the order that they were added. If the first bubble target itself has bubble targets, the event will bubble to them before continuing to the second bubble target. This creates a branching tree-like pattern of event bubbling.<p>Currently, EventFacade seems to be modelled after DOM events, containing methods such as halt, preventDefault, stopImmediatePropagation, and stopPropagation. These methods work quite well when dealing with a single bubble target per EventTarget, but they do not offer much help when you wish to control multiple bubble target branches separately.<p>This module adds the following branch specific methods to EventFacade: haltBranch, preventBranchDefault, stopBranchPropagation, stopImmediateBranchPropagation. This allows you to control the bubbling of a branch without changing the default behavior of another branch.<p>This module rewrites a lot of YUI's custom event system and therefore it is very difficult to maintain. I would consider it experimental and would not recommend using it in a production environment.</span></div>
												</div>
												<div class="tags">
													<ul>
														<li>Tags: <li><a href="../tag/bubble.html" title="Search by this tag: bubble">bubble</a><li><a href="../tag/bubbling.html" title="Search by this tag: bubbling">bubbling</a><li><a href="../tag/custom.html" title="Search by this tag: custom">custom</a><li><a href="../tag/event.html" title="Search by this tag: event">event</a><li><a href="../tag/facade.html" title="Search by this tag: facade">facade</a><li><a href="../tag/solmsted.html" title="Search by this tag: solmsted">solmsted</a><li><a href="../tag/target.html" title="Search by this tag: target">target</a><li><a href="../tag/branch.html" title="Search by this tag: branch">branch</a></ul>
												</div>
											</div>
										</div>
										<ul class="gallery-links">
											<li class="download empty">Download<li class="docs empty">Docs<li class="homepage"><a href="event-custom-branch.html" target="_blank" title="Homepage">Homepage</a><li class="bugs empty">Bugs<li class="source"><a href="https://github.com/solmsted/yui3-gallery/tree/master/src/gallery-event-custom-branch" target="_blank" title="Source">Source</a><li class="example empty">Example<li class="forum empty">Forum<li class="history"><a href="../history/event-custom-branch.html" title="History">History</a></ul>
										<div class="mod"><span class="wikipage"><p>This module modifies the prototype members of CustomEvent, EventFacade, and EventTarget. Other common YUI objects, specifically Attribute, mix some of the members into themselves. This means that this module must be loaded before attribute or any other modules that do this mixing, otherwise the mixed objects will not function correctly.</span><h3 id="code">Code Sample</h3>
											<div class="syntax-highlight" id="yui-syn-1"><pre class="javascript" style="font-family:monospace;">YUI<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>.<span style="color: #003366; font-weight: bold;">use</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'gallery-event-custom-branch'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>Y<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #006600; font-style: italic;">// An inner Y.use makes certain that gallery-event-custom-branch loads before attribute.</span>
&nbsp;
    Y.<span style="color: #003366; font-weight: bold;">use</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'base'</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">'node'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>Y<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        <span style="color: #003366; font-weight: bold;">var</span> bodyNode <span style="color: #339933;">=</span> Y.<span style="color: #660066;">one</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'body'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
&nbsp;
            <span style="color: #006600; font-style: italic;">// Create EventTarget objects to set up event bubbling.</span>
            <span style="color: #006600; font-style: italic;">// These objects all define a defaultFn for an event.</span>
            <span style="color: #006600; font-style: italic;">// The defaultFns append an identifier to the DOM so we can see</span>
            <span style="color: #006600; font-style: italic;">// the order in which they are called.</span>
&nbsp;
            root <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> <span style="color: #009900;">&#40;</span>Y.<span style="color: #660066;">Base</span>.<span style="color: #660066;">create</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root'</span><span style="color: #339933;">,</span> Y.<span style="color: #660066;">Base</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                initializer<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">publish</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'event'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                        defaultFn<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;root defaultFn&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                        <span style="color: #009900;">&#125;</span>
                    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
            branch0 <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> <span style="color: #009900;">&#40;</span>Y.<span style="color: #660066;">Base</span>.<span style="color: #660066;">create</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'branch0'</span><span style="color: #339933;">,</span> Y.<span style="color: #660066;">Base</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                initializer<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">publish</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                        defaultFn<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch0 defaultFn&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                        <span style="color: #009900;">&#125;</span>
                    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
            branch1 <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> <span style="color: #009900;">&#40;</span>Y.<span style="color: #660066;">Base</span>.<span style="color: #660066;">create</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'branch1'</span><span style="color: #339933;">,</span> Y.<span style="color: #660066;">Base</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                initializer<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">publish</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                        defaultFn<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch1 defaultFn&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                        <span style="color: #009900;">&#125;</span>
                    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
            branch2 <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> <span style="color: #009900;">&#40;</span>Y.<span style="color: #660066;">Base</span>.<span style="color: #660066;">create</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'branch2'</span><span style="color: #339933;">,</span> Y.<span style="color: #660066;">Base</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                initializer<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">publish</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                        defaultFn<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch2 defaultFn&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                        <span style="color: #009900;">&#125;</span>
                    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
            branch00 <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> <span style="color: #009900;">&#40;</span>Y.<span style="color: #660066;">Base</span>.<span style="color: #660066;">create</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'branch00'</span><span style="color: #339933;">,</span> Y.<span style="color: #660066;">Base</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                initializer<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">publish</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                        defaultFn<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch00 defaultFn&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                        <span style="color: #009900;">&#125;</span>
                    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
            branch01 <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> <span style="color: #009900;">&#40;</span>Y.<span style="color: #660066;">Base</span>.<span style="color: #660066;">create</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'branch01'</span><span style="color: #339933;">,</span> Y.<span style="color: #660066;">Base</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                initializer<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">publish</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                        defaultFn<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch01 defaultFn&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                        <span style="color: #009900;">&#125;</span>
                    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
            branch10 <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> <span style="color: #009900;">&#40;</span>Y.<span style="color: #660066;">Base</span>.<span style="color: #660066;">create</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'branch10'</span><span style="color: #339933;">,</span> Y.<span style="color: #660066;">Base</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                initializer<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">publish</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                        defaultFn<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch10 defaultFn&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                        <span style="color: #009900;">&#125;</span>
                    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
            branch11 <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> <span style="color: #009900;">&#40;</span>Y.<span style="color: #660066;">Base</span>.<span style="color: #660066;">create</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'branch11'</span><span style="color: #339933;">,</span> Y.<span style="color: #660066;">Base</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                initializer<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">publish</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                        defaultFn<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch11 defaultFn&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                        <span style="color: #009900;">&#125;</span>
                    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
            branch20 <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> <span style="color: #009900;">&#40;</span>Y.<span style="color: #660066;">Base</span>.<span style="color: #660066;">create</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'branch20'</span><span style="color: #339933;">,</span> Y.<span style="color: #660066;">Base</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                initializer<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">publish</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                        defaultFn<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch20 defaultFn&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                        <span style="color: #009900;">&#125;</span>
                    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
            branch21 <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> <span style="color: #009900;">&#40;</span>Y.<span style="color: #660066;">Base</span>.<span style="color: #660066;">create</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'branch21'</span><span style="color: #339933;">,</span> Y.<span style="color: #660066;">Base</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                initializer<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                    <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">publish</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
                        defaultFn<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch21 defaultFn&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                        <span style="color: #009900;">&#125;</span>
                    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #009900;">&#125;</span>
            <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// root branches to branch0, branch1, and branch2</span>
        root.<span style="color: #660066;">addTarget</span><span style="color: #009900;">&#40;</span>branch0<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        root.<span style="color: #660066;">addTarget</span><span style="color: #009900;">&#40;</span>branch1<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        root.<span style="color: #660066;">addTarget</span><span style="color: #009900;">&#40;</span>branch2<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// branch0 branches to branch00 and branch01</span>
        branch0.<span style="color: #660066;">addTarget</span><span style="color: #009900;">&#40;</span>branch00<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        branch0.<span style="color: #660066;">addTarget</span><span style="color: #009900;">&#40;</span>branch01<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// branch1 branches to branch10 and branch11.</span>
        branch1.<span style="color: #660066;">addTarget</span><span style="color: #009900;">&#40;</span>branch10<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        branch1.<span style="color: #660066;">addTarget</span><span style="color: #009900;">&#40;</span>branch11<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// branch2 branches to branch20 and branch21.</span>
        branch2.<span style="color: #660066;">addTarget</span><span style="color: #009900;">&#40;</span>branch20<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        branch2.<span style="color: #660066;">addTarget</span><span style="color: #009900;">&#40;</span>branch21<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// Set up event listeners.  These event listeners append an identifier to</span>
        <span style="color: #006600; font-style: italic;">// the DOM so we can see the order in which they are called.</span>
&nbsp;
        root.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;root.on 0&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        root.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;root.on 1&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch0.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch0.on 0&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
            <span style="color: #006600; font-style: italic;">// Uncomment the following lines one-by-one to see their effect on branch0.</span>
&nbsp;
            <span style="color: #006600; font-style: italic;">//eventFacade.haltBranch();</span>
            <span style="color: #006600; font-style: italic;">//eventFacade.haltBranch(true);</span>
            <span style="color: #006600; font-style: italic;">//eventFacade.preventBranchDefault();</span>
            <span style="color: #006600; font-style: italic;">//eventFacade.stopBranchPropagation();</span>
            <span style="color: #006600; font-style: italic;">//eventFacade.stopImmediateBranchPropagation();</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch0.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch0.on 1&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch1.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch1.on 0&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch1.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch1.on 1&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch2.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch2.on 0&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch2.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch2.on 1&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch00.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch00.on 0&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch00.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch00.on 1&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch01.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch01.on 0&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch01.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch01.on 1&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch10.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch10.on 0&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch10.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch10.on 1&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch11.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch11.on 0&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch11.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch11.on 1&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch20.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch20.on 0&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch20.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch20.on 1&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch21.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch21.on 0&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        branch21.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'root:event'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>eventFacade<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            bodyNode.<span style="color: #660066;">append</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'&lt;p&gt;branch21.on 1&lt;/p&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// Finally, fire the event.</span>
&nbsp;
        root.<span style="color: #660066;">fire</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'event'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre><textarea id="yui-syn-1-plain">YUI().use('gallery-event-custom-branch', function (Y) {

    // An inner Y.use makes certain that gallery-event-custom-branch loads before attribute.



    Y.use('base', 'node', function (Y) {

        var bodyNode = Y.one('body'),

        

            // Create EventTarget objects to set up event bubbling.

            // These objects all define a defaultFn for an event.

            // The defaultFns append an identifier to the DOM so we can see

            // the order in which they are called.



            root = new (Y.Base.create('root', Y.Base, [], {

                initializer: function () {

                    this.publish('event', {

                        defaultFn: function () {

                            bodyNode.append('&lt;p&gt;root defaultFn&lt;/p&gt;');

                        }

                    });

                }

            })),

            branch0 = new (Y.Base.create('branch0', Y.Base, [], {

                initializer: function () {

                    this.publish('root:event', {

                        defaultFn: function () {

                            bodyNode.append('&lt;p&gt;branch0 defaultFn&lt;/p&gt;');

                        }

                    });

                }

            })),

            branch1 = new (Y.Base.create('branch1', Y.Base, [], {

                initializer: function () {

                    this.publish('root:event', {

                        defaultFn: function () {

                            bodyNode.append('&lt;p&gt;branch1 defaultFn&lt;/p&gt;');

                        }

                    });

                }

            })),

            branch2 = new (Y.Base.create('branch2', Y.Base, [], {

                initializer: function () {

                    this.publish('root:event', {

                        defaultFn: function () {

                            bodyNode.append('&lt;p&gt;branch2 defaultFn&lt;/p&gt;');

                        }

                    });

                }

            })),

            branch00 = new (Y.Base.create('branch00', Y.Base, [], {

                initializer: function () {

                    this.publish('root:event', {

                        defaultFn: function () {

                            bodyNode.append('&lt;p&gt;branch00 defaultFn&lt;/p&gt;');

                        }

                    });

                }

            })),

            branch01 = new (Y.Base.create('branch01', Y.Base, [], {

                initializer: function () {

                    this.publish('root:event', {

                        defaultFn: function () {

                            bodyNode.append('&lt;p&gt;branch01 defaultFn&lt;/p&gt;');

                        }

                    });

                }

            })),

            branch10 = new (Y.Base.create('branch10', Y.Base, [], {

                initializer: function () {

                    this.publish('root:event', {

                        defaultFn: function () {

                            bodyNode.append('&lt;p&gt;branch10 defaultFn&lt;/p&gt;');

                        }

                    });

                }

            })),

            branch11 = new (Y.Base.create('branch11', Y.Base, [], {

                initializer: function () {

                    this.publish('root:event', {

                        defaultFn: function () {

                            bodyNode.append('&lt;p&gt;branch11 defaultFn&lt;/p&gt;');

                        }

                    });

                }

            })),

            branch20 = new (Y.Base.create('branch20', Y.Base, [], {

                initializer: function () {

                    this.publish('root:event', {

                        defaultFn: function () {

                            bodyNode.append('&lt;p&gt;branch20 defaultFn&lt;/p&gt;');

                        }

                    });

                }

            })),

            branch21 = new (Y.Base.create('branch21', Y.Base, [], {

                initializer: function () {

                    this.publish('root:event', {

                        defaultFn: function () {

                            bodyNode.append('&lt;p&gt;branch21 defaultFn&lt;/p&gt;');

                        }

                    });

                }

            }));

        

        // root branches to branch0, branch1, and branch2

        root.addTarget(branch0);

        root.addTarget(branch1);

        root.addTarget(branch2);

        

        // branch0 branches to branch00 and branch01

        branch0.addTarget(branch00);

        branch0.addTarget(branch01);

        

        // branch1 branches to branch10 and branch11.

        branch1.addTarget(branch10);

        branch1.addTarget(branch11);

        

        // branch2 branches to branch20 and branch21.

        branch2.addTarget(branch20);

        branch2.addTarget(branch21);

        

        // Set up event listeners.  These event listeners append an identifier to

        // the DOM so we can see the order in which they are called.



        root.on('event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;root.on 0&lt;/p&gt;');

        });

        

        root.on('event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;root.on 1&lt;/p&gt;');

        });

        

        branch0.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch0.on 0&lt;/p&gt;');



            // Uncomment the following lines one-by-one to see their effect on branch0.



            //eventFacade.haltBranch();

            //eventFacade.haltBranch(true);

            //eventFacade.preventBranchDefault();

            //eventFacade.stopBranchPropagation();

            //eventFacade.stopImmediateBranchPropagation();

        });

        

        branch0.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch0.on 1&lt;/p&gt;');

        });

    

        branch1.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch1.on 0&lt;/p&gt;');

        });

        

        branch1.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch1.on 1&lt;/p&gt;');

        });

    

        branch2.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch2.on 0&lt;/p&gt;');

        });

        

        branch2.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch2.on 1&lt;/p&gt;');

        });

        

        branch00.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch00.on 0&lt;/p&gt;');

        });

        

        branch00.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch00.on 1&lt;/p&gt;');

        });

        

        branch01.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch01.on 0&lt;/p&gt;');

        });

        

        branch01.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch01.on 1&lt;/p&gt;');

        });

        

        branch10.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch10.on 0&lt;/p&gt;');

        });

        

        branch10.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch10.on 1&lt;/p&gt;');

        });

        

        branch11.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch11.on 0&lt;/p&gt;');

        });

        

        branch11.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch11.on 1&lt;/p&gt;');

        });

        

        branch20.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch20.on 0&lt;/p&gt;');

        });

        

        branch20.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch20.on 1&lt;/p&gt;');

        });

        

        branch21.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch21.on 0&lt;/p&gt;');

        });

        

        branch21.on('root:event', function (eventFacade) {

            bodyNode.append('&lt;p&gt;branch21.on 1&lt;/p&gt;');

        });

        

        // Finally, fire the event.



        root.fire('event');

    });

});</textarea>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div id="ft">
					<p class="copyright"> All code on this site is licensed under the <a href="http://yuilibrary.com/license/">BSD License</a> unless stated otherwise.<br />
				</div>
			</div>
		</div>
	</body>
</html>