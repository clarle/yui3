<html>
	<head>
		<title>YUI Library - Gallery :: Sandbox</title>
		<link href="https://github.com/rgrove" rel="author" title="rgrove" />
		<meta charset="utf-8" />
		<link href="http://yui.yahooapis.com/combo?2.8.2/build/reset-fonts-grids/reset-fonts-grids.css" rel="stylesheet" />
		<link href="../../assets/skin/yuilib-08.25.2011.css" rel="stylesheet" />
		<link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic" rel="stylesheet" />
		<link href="https://yui-s.yahooapis.com/3.9.0/build/cssgrids/cssgrids-min.css" rel="stylesheet" />
		<link href="../../combo/css@main-min.css" rel="stylesheet" />
		<meta content="IE=Edge,chrome=1" http-equiv="X-UA-Compatible" />
		<meta content="/xrds.xml" http-equiv="X-XRDS-Location" />
		<link href="../../img/favicon.png" rel="shortcut icon" type="image/png" />
	</head>
	<body class="yui3-skin-sam">
		<div id="wrap">
			<div class="yui-t2 gallery" id="doc3"><a name="top"></a><div class="yui3-g" id="hd">
					<ul class="gallery-header-links">
						<li><a href="http://www.yuilibrary.com">YUI Home</a><li><a href="../index.html">Gallery Archive</a></ul>
					<div class="content">
						<div class="yui3-u-1-4">
							<ul id="userinfo">
							</ul>
						</div>
					</div>
				</div>
				<div id="bd">
					<div class="yui3-u-1" id="breadcrumbs">
						<ul class="breadcrumbs">
							<li class="crumb"><a href="http://yuilibrary.com/">YUI</a><li class="separator">&gt;<li class="crumb"><a href="http://yuilibrary.com/community/">Community</a><li class="separator">&gt;<li class="crumb"><a href="../index.html">Gallery</a></ul>
					</div>
					<div class="content" id="docs-hd">
						<h1>Gallery</h1>
					</div>
					<div id="deprecated">
						<p>The Gallery is deprecated. No new Gallery components may be submitted, and modifying existing components is disabled. For more information please read the <a href="http://www.yuiblog.com/blog/2014/06/16/yui-gallery-deprecation-announcement/">Gallery Deprecation blog post</a>. This is a static snapshot of the Gallery for archive purposes. </div>
					<div id="content-wrap">
						<div class="yui-b">
							<div class="sidenav">
								<div class="sidebox">
									<div class="hd">
										<h2>Modules</h2>
									</div>
									<div class="bd">
										<ul class="blank">
											<li><img src="../../assets/home.png" /> <a href="../index.html">Home</a><li><img src="../../assets/gallery/star.png" /> <a href="../featured.html">Featured</a><li><img src="../../assets/gallery/thumb_up.png" /> <a href="../popular.html">Popular</a><li><img src="../../assets/gallery/greenled.png" /> <a href="../new.html">New</a><li><img src="../../assets/gallery/script_code_red.png" /> <a href="../show.html">All</a></ul>
									</div>
								</div>
								<div class="sidebox">
									<div class="hd">
										<h2>Documentation</h2>
									</div>
									<div class="bd">
										<ul class="blank">
											<li><img src="../../assets/script.png" /> <a href="http://yui.github.com/yogi/">Yogi Documentation</a><li><img src="../../assets/notepaper.png" /> <a href="http://yui.github.com/shifter/">Shifter Documentation</a><li><img src="../../assets/gallery/book.png" /> <a href="http://yuilibrary.com/yui/docs/tutorials/gallery">Developer Guide</a><li><img src="../../assets/gear.png" /> <a href="../setup.html">Module Setup</a></ul>
									</div>
								</div>
							</div>
						</div>
						<div id="yui-main">
							<div class="yui-b" id="gallery">
								<div class="yui-g">
									<div class="nav" id="ctxtnav">
										<h2>Context Navigation</h2>
										<ul>
										</ul>
									</div>
									<div class="warning"> YUI Library is not responsible for bugs or support with this module. It is available as a free service. For support please contact the module owner with the provided links. </div>
									<div class="gallery-item" id="gallery-item_107">
										<div class="item-hd">
											<h2>Sandbox (gallery-sandbox) <span class="oncdn" title="This module is available on the CDN.">on cdn</span></h2> Last Updated: <span title="07 May 2010 16:10">05/7/10</span><div class="votes"><a class="up" href="#" title="Vote this item up.">+</a> <span>0</span> <a class="down" href="#" title="Vote this item down.">-</a></div>
										</div>
										<div class="mod">
											<div class="yui-gf profile">
												<div class="yui-u first">
													<h3><img class="medal" src="../../assets/medal_gold.png" title="YUI Developer" /> <span class="gallery-user">Ryan Grove</span></h3>
													<h4>YUI Developer</h4>
													<p><img src="http://www.gravatar.com/avatar/683e9380d7cc0724a35dadfb4eeb142b?s=64&d=http://yuilibrary.com/assets/gravatar-64.png" /><p><a href="../user/rgrove.html">See 3 more by this user.</a> Created: <span title="07 May 2010 11:49">05/7/10</span><br /> Last CDN Push: <span title="12 May 2010 19:09">05/12/10</span><br /> Build Tag: <a href="../buildtag/sandbox/gallery-2010.05.12-19-08.html">gallery-2010.05.12-19-08</a><br /> Project: <a href="http://yuilibrary.com/projects/yui3">YUI 3</a><br /> License: <a href="http://yuilibrary.com/license/" target="_blank">YUI BSD</a><br /> YUI Version: 3.1.1<br /> Free for use. </div>
												<div class="yui-u">
													<div class="desc"><span class="wikipage"><p>Sandbox simplifies the process of creating isolated iframe sandboxes in which to evaluate JavaScript code for tasks like profiling or unit testing.<p>Note that these sandboxes, while isolated enough to be used for testing, are not secure. They should be used only to run trusted code, and are not intended to be used to execute arbitrary untrusted JavaScript.</span></div>
												</div>
												<div class="tags">
													<ul>
														<li>Tags: <li><a href="../tag/test.html" title="Search by this tag: test">test</a><li><a href="../tag/profile.html" title="Search by this tag: profile">profile</a><li><a href="../tag/sandbox.html" title="Search by this tag: sandbox">sandbox</a><li><a href="../tag/rgrove.html" title="Search by this tag: rgrove">rgrove</a></ul>
												</div>
											</div>
										</div>
										<ul class="gallery-links">
											<li class="download empty">Download<li class="docs"><a href="http://rgrove.github.com/sandbox/docs/" target="_blank" title="Docs">Docs</a><li class="homepage"><a href="http://github.com/rgrove/sandbox" target="_blank" title="Homepage">Homepage</a><li class="bugs"><a href="http://github.com/rgrove/sandbox/issues" target="_blank" title="Bugs">Bugs</a><li class="source"><a href="http://github.com/rgrove/sandbox" target="_blank" title="Source">Source</a><li class="example"><a href="http://github.com/rgrove/sandbox" target="_blank" title="Example">Example</a><li class="forum"><a href="../forum/sandbox.html" title="Forum">Forum</a><li class="history"><a href="../history/sandbox.html" title="History">History</a></ul>
										<div class="mod">
											<h3 id="code">Code Sample</h3>
											<div class="syntax-highlight" id="yui-syn-1"><pre class="html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">script</span> <span style="color: #000066;">src</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;http://yui.yahooapis.com/3.1.1/build/yui/yui-min.js&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">script</span>&gt;</span></pre><textarea id="yui-syn-1-plain">&lt;script src=&quot;http://yui.yahooapis.com/3.1.1/build/yui/yui-min.js&quot;&gt;&lt;/script&gt;</textarea>
											</div>
											<div class="syntax-highlight" id="yui-syn-2"><pre class="javascript" style="font-family:monospace;">YUI<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#123;</span>
    <span style="color: #006600; font-style: italic;">//Last Gallery Build of this module</span>
    gallery<span style="color: #339933;">:</span> <span style="color: #3366CC;">'gallery-2010.05.12-19-08'</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span>.<span style="color: #003366; font-weight: bold;">use</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'gallery-sandbox'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>Y<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
&nbsp;
    <span style="color: #003366; font-weight: bold;">var</span> sandbox <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">new</span> Y.<span style="color: #660066;">Sandbox</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
    <span style="color: #006600; font-style: italic;">// Listen for the 'ready' event to ensure that the sandbox iframe has</span>
    <span style="color: #006600; font-style: italic;">// been initialized before you try to use it.</span>
    sandbox.<span style="color: #660066;">on</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'ready'</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        <span style="color: #006600; font-style: italic;">// Run some code in the sandbox.</span>
        sandbox.<span style="color: #660066;">run</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'alert(&quot;Hello from &quot; + document.title);'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// You can also pass in a function, although it won't retain its</span>
        <span style="color: #006600; font-style: italic;">// execution context when it runs in the sandbox since it will be</span>
        <span style="color: #006600; font-style: italic;">// cast to a string and then evaled.</span>
        sandbox.<span style="color: #660066;">run</span><span style="color: #009900;">&#40;</span><span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> <span style="color: #000066;">alert</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;I like pie.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// If your code will perform async operations and you'd like to be</span>
        <span style="color: #006600; font-style: italic;">// notified when they've finished, call done() from the sandbox code</span>
        <span style="color: #006600; font-style: italic;">// and pass in a callback to receive the finish notification.</span>
        sandbox.<span style="color: #660066;">run</span><span style="color: #009900;">&#40;</span><span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            <span style="color: #006600; font-style: italic;">// Runs in sandbox.</span>
            setTimeout<span style="color: #009900;">&#40;</span><span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                done<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
            <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">1000</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            <span style="color: #006600; font-style: italic;">// Runs in parent after the sandbox code calls done().</span>
            <span style="color: #000066;">alert</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'All done!'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// For easy profiling, run code with profile(). Call done() from the</span>
        <span style="color: #006600; font-style: italic;">// sandbox code to indicate completion. Provide a callback to</span>
        <span style="color: #006600; font-style: italic;">// receive the profile data once it's ready.</span>
        sandbox.<span style="color: #660066;">profile</span><span style="color: #009900;">&#40;</span><span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            <span style="color: #003366; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">5000000</span><span style="color: #339933;">;</span>
&nbsp;
            <span style="color: #000066; font-weight: bold;">while</span> <span style="color: #009900;">&#40;</span>i<span style="color: #339933;">--</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                Math.<span style="color: #660066;">sqrt</span><span style="color: #009900;">&#40;</span>Math.<span style="color: #660066;">PI</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
            <span style="color: #009900;">&#125;</span>
&nbsp;
            done<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>profileData<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            <span style="color: #000066;">alert</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;That took &quot;</span> <span style="color: #339933;">+</span> profileData.<span style="color: #660066;">duration</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">&quot; milliseconds.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// Pass data between the parent and the sandbox using a shared</span>
        <span style="color: #006600; font-style: italic;">// environment object.</span>
        sandbox.<span style="color: #660066;">setEnvValue</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'kittens'</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">'fuzzy'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        sandbox.<span style="color: #660066;">run</span><span style="color: #009900;">&#40;</span><span style="color: #003366; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            <span style="color: #000066;">alert</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'Kittens are '</span> <span style="color: #339933;">+</span> sandbox.<span style="color: #660066;">kittens</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
            sandbox.<span style="color: #660066;">ninjas</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'sneaky'</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #000066;">alert</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'Ninjas are '</span> <span style="color: #339933;">+</span> sandbox.<span style="color: #660066;">getEnvValue</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'ninjas'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// Clean up the sandbox.</span>
        sandbox.<span style="color: #660066;">destroy</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #006600; font-style: italic;">// See the API docs for even more useful stuff.</span>
    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre><textarea id="yui-syn-2-plain">YUI({
    //Last Gallery Build of this module
    gallery: 'gallery-2010.05.12-19-08'
}).use('gallery-sandbox', function(Y) {



    var sandbox = new Y.Sandbox();



    // Listen for the 'ready' event to ensure that the sandbox iframe has

    // been initialized before you try to use it.

    sandbox.on('ready', function () {

        // Run some code in the sandbox.

        sandbox.run('alert(&quot;Hello from &quot; + document.title);');



        // You can also pass in a function, although it won't retain its

        // execution context when it runs in the sandbox since it will be

        // cast to a string and then evaled.

        sandbox.run(function () { alert(&quot;I like pie.&quot;); });



        // If your code will perform async operations and you'd like to be

        // notified when they've finished, call done() from the sandbox code

        // and pass in a callback to receive the finish notification.

        sandbox.run(function () {

            // Runs in sandbox.

            setTimeout(function () {

                done();

            }, 1000);

        }, function () {

            // Runs in parent after the sandbox code calls done().

            alert('All done!');

        });



        // For easy profiling, run code with profile(). Call done() from the

        // sandbox code to indicate completion. Provide a callback to

        // receive the profile data once it's ready.

        sandbox.profile(function () {

            var i = 5000000;



            while (i--) {

                Math.sqrt(Math.PI);

            }



            done();

        }, function (profileData) {

            alert(&quot;That took &quot; + profileData.duration + &quot; milliseconds.&quot;);

        });



        // Pass data between the parent and the sandbox using a shared

        // environment object.

        sandbox.setEnvValue('kittens', 'fuzzy');

        sandbox.run(function () {

            alert('Kittens are ' + sandbox.kittens);

            sandbox.ninjas = 'sneaky';

        });



        alert('Ninjas are ' + sandbox.getEnvValue('ninjas'));



        // Clean up the sandbox.

        sandbox.destroy();



        // See the API docs for even more useful stuff.

    });



});</textarea>
											</div>
											<br />
											<h3>Forum Posts</h3>
											<div class="forum">
												<p><i>No forum posts for this module.</i></div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div id="ft">
					<p class="copyright"> All code on this site is licensed under the <a href="http://yuilibrary.com/license/">BSD License</a> unless stated otherwise.<br />
				</div>
			</div>
		</div>
	</body>
</html>