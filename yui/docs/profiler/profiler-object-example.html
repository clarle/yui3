<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Example: Object Profiling Example - YUI Library</title>

    <meta name="viewport" content="width=960" id="meta-viewport">
    <script>
    if (screen.width < 768) {
        document.getElementById('meta-viewport').setAttribute('content', 'width=768');
    }
    </script>

    
    
    





    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic">

    <link rel="stylesheet" href="https://yui-s.yahooapis.com/3.9.0/build/cssgrids/cssgrids-min.css">


    <link rel="stylesheet" href="/yui3/combo/css-main-min.css">



    <link rel="stylesheet" href="/yui3/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="/yui3/css/docs-min.css">




<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<meta http-equiv="X-XRDS-Location" content="/xrds.xml">

    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@yuilibrary">
    <meta name="twitter:creator" content="@yuilibrary">
    <meta name="twitter:url" content="http://yuilibrary.com/yui/docs/profiler/profiler-object-example.html">
    <meta name="twitter:title" content="Example: Object Profiling Example">
    <meta name="twitter:description" content="Demonstrates usage of the Profiler for profiling objects.">
    

<link rel="shortcut icon" type="image/png" href="/yui3/img/favicon.png">




    

    <script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-29453705-2']);
    _gaq.push(['_trackPageview']);
    </script>



    

    
        <script>
        var YUI_config={"filter":"min","maxURLLength":1024,"root":"3.10.0/","groups":{"site":{"combine":true,"comboBase":"/combo/js?","root":"","modules":{"hoverable":{"path":"hoverable-min.js","requires":["event-hover","node-base","node-event-delegate"]},"search":{"path":"search-min.js","requires":["autocomplete","autocomplete-highlighters","node-pluginhost"]},"api-filter":{"path":"apidocs/api-filter-min.js","requires":["autocomplete-base","autocomplete-highlighters","autocomplete-sources"]},"api-list":{"path":"apidocs/api-list-min.js","requires":["api-filter","api-search","event-key","node-focusmanager","tabview"]},"api-search":{"path":"apidocs/api-search-min.js","requires":["autocomplete-base","autocomplete-highlighters","autocomplete-sources","escape"]}}}}};
        if (location.protocol.indexOf('https') > -1) {
            YUI_config.comboBase = 'https://yui-s.yahooapis.com/combo?';
            YUI_config.combine = true;
        }
        </script>
    

    
        <script src="http://yui.yahooapis.com/3.10.0/build/yui/yui-min.js"></script>
    


</head>
<body class="yui3-skin-sam">

<!--
<a href="/yuiconf/2012/" class="yuiconf ribbon">
    <img src="/yui3/img/yuiconf/2012/ribbon.png" alt="YUIConf 2012">
</a>
-->

<div id="doc">
    <div id="hd" class="yui3-g"><header>
        <div class="content">
            <div class="yui3-u-3-4">
                <a href="/yui3" rel="home"><div id="hd-logo" role="image" aria-label="YUI logo"></div></a>
                
                
            </div>

            <div class="yui3-u-1-4">
                <ul id="userinfo">

    <li><a href="/forum/ucp.php?mode=register">Register</a></li>
    <li><a href="/forum/ucp.php?mode=login&amp;redirect=/yui/docs/profiler/profiler-object-example.html">Log in</a></li>

</ul>

                <form id="main-search" class="search" action="http://search.yahoo.com/search"
        method="get" role="search">

    <input type="search" class="search-input" name="q"
            aria-label="Search docs and APIs"
            placeholder="Search docs and APIs">

    <input type="hidden" name="vs" value="yuilibrary.com">
    <input type="hidden" name="vs" value="yuiblog.com">
</form>

            </div>

            <div id="main-nav" class="yui3-u"><nav>
    <ul class="nav hoverable-group">
        
            <li class="nav-tab hoverable ">
                <a href="/yui3">Home</a>
                
            </li>
        
            <li class="nav-tab hoverable ">
                <a href="https://github.com/yui/yui3/wiki/Quick-Start">Quick Start</a>
                
                    <ul class="nav-submenu">
                        
                            <li class="nav-child ">
                                
                                    <a href="/yui3/yui/configurator/">Configurator</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/download/yui3/">Download YUI 3</a>
                                
                            </li>
                        
                    </ul>
                
            </li>
        
            <li class="nav-tab hoverable  nav-tab-active">
                <a href="https://github.com/yui/yui3/wiki/YUI-Documentation">Documentation</a>
                
                    <ul class="nav-submenu">
                        
                            <li class="nav-child ">
                                
                                    <a href="/yui3/yui/docs/guides/">User Guides</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/yui3/yui/docs/examples/">Examples</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/yui3/yui/docs/api/">API Docs</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/yui3/yui/environments/">Environments</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/yui3/yui/docs/tutorials/">Tutorials</a>
                                
                            </li>
                        
                    </ul>
                
            </li>
        
            <li class="nav-tab hoverable nav-break">
                <a href="/community/">Community</a>
                
                    <ul class="nav-submenu">
                        
                            <li class="nav-child ">
                                
                                    <a href="/gallery/">Gallery</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="http://yuiblog.com/">Blog</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/forum/">Forums</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/theater/">YUI Theater</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/projects/yui3/calendar/">Calendar</a>
                                
                            </li>
                        
                    </ul>
                
            </li>
        
            <li class="nav-tab hoverable ">
                <a href="/contribute/">Contribute</a>
                
                    <ul class="nav-submenu">
                        
                            <li class="nav-child ">
                                
                                    <a href="https://github.com/yui/" target="_blank" title="External link">YUI on GitHub &#187;</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/projects/yui3/newticket/">File a Ticket</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/projects/yui3/report/">View Tickets</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/projects/yui3/dashboard/">Dashboard</a>
                                
                            </li>
                        
                    </ul>
                
            </li>
        
            <li class="nav-tab hoverable ">
                <a href="/projects/">Other Projects</a>
                
                    <ul class="nav-submenu">
                        
                            <li class="nav-child ">
                                
                                    <a href="http://yui.github.com/shifter/" target="_blank" title="External link">Shifter &#187;</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="http://yui.github.com/yogi/" target="_blank" title="External link">Yogi &#187;</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/projects/yui2/">YUI 2</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="http://yui.github.com/yuidoc/" target="_blank" title="External link">YUI Doc &#187;</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/projects/yuitest/">YUI Test</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/projects/yuilibrary/">YUI Website</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="http://yui.github.com/yuicompressor/" target="_blank" title="External link">YUI Compressor &#187;</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="http://github.com/yui/builder" target="_blank" title="External link">YUI Builder &#187;</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="/projects/phploader/">YUI PHP Loader</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="http://yui.github.com/gridbuilder/" target="_blank" title="External link">Grid Builder &#187;</a>
                                
                            </li>
                        
                            <li class="nav-child ">
                                
                                    <a href="http://yui.github.com/skinbuilder/" target="_blank" title="External link">Skin Builder &#187;</a>
                                
                            </li>
                        
                    </ul>
                
            </li>
        
    </ul>
</nav></div>

        </div>
    </header></div>

    <div id="bd" class="clearfix yui3-g">
        
    <div id="breadcrumbs" class="yui3-u-1">
        <ul class="breadcrumbs">
            
                <li class="crumb"><a href="https://github.com/yui/yui3/wiki/YUI-Documentation">YUI</a></li>
                
                    <li class="separator">&gt;</li>
                
            
                <li class="crumb"><a href="/yui3/yui/devtools/">Developer Tools</a></li>
                
                    <li class="separator">&gt;</li>
                
            
                <li class="crumb"><a href="/yui3/yui/docs/profiler/">Profiler</a></li>
                
                    <li class="separator">&gt;</li>
                
            
                <li class="crumb"><a href="/yui3/yui/docs/profiler/profiler-object-example.html">Example: Object Profiling Example</a></li>
                
            
        </ul>
    </div>


        
    
        <div class="project-version yui3-u">Version 3.10.0</div>
    



        

        
            
    


            




    



<div class="yui3-u-1">
    <div id="docs-hd" class="content">
        <h1>Example: Object Profiling Example</h1>

        
    </div>
</div>

<div class="yui3-u-3-4 print-max-width">
    <div id="docs-main" class="content">
        <div class="intro">
    <p>This example shows using the Profiler on all methods in an object. It uses the <code>Y.DOM</code> object
    as the object to be profiled.</p>
</div>

<div id="results" class="example">
</div>

<div class="example">
<div class="bar">div class="bar"</div>
<div class="bar-baz">div class="bar-baz"</div>
<div class="bar ">div class="bar "</div>
<div class=" bar ">div class=" bar "</div>
<div class="bar baz">div class=" bar baz"</div>
<div class="bar2 baz">div class=" bar2 baz"</div>
<div class="foo">div class="foo"</div>
<div class="foo" id="bar">div class="foo" id="bar"</div>
<div class="foo bar baz">div class="foo bar baz"</div>
<p class="bar">p class="bar"</p>
<button id="demo-run">run</button>

<script>
YUI().use('node', 'profiler', function (Y) {

    Y.one('#demo-run').on('click', function(){
        Y.Profiler.registerObject("Y.Node", Y.Node);
        Y.Profiler.registerObject("Y.DOM", Y.DOM);

        var results = Y.Node.all('.bar');
        results.addClass("newclass");

        var report = Y.Profiler.getFullReport(function(data){
            return data.calls > 0;
        });

        Y.Profiler.unregisterObject("Y.Node");
        Y.Profiler.unregisterObject("Y.DOM");

        //output results
        var msg = "";
        for (var func in report){
            msg += (func + "(): Called " + report[func].calls + " times. Avg: " +
                report[func].avg + ", Min: " + report[func].min + ", Max: " + report[func].max) + "\n";
        }
        Y.one('#results').setHTML('<pre>' + msg + '</pre>');
    });
});
</script>

</div>

<h2 class="first">Object Profiling Example</h2>
<p>To illustrate using the Profiler on objects, the <code>Y.DOM</code> and <code>Y.Node</code> objects are registered for profiling. This means
that all of the methods on these objects are being profiled. To
illustrate their use, a number of demo elements are added to the markup:</p>
<pre class="code prettyprint">&lt;div class=&quot;bar&quot;&gt;div class=&quot;bar&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;bar-baz&quot;&gt;div class=&quot;bar-baz&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;bar &quot;&gt;div class=&quot;bar &quot;&lt;&#x2F;div&gt;
&lt;div class=&quot; bar &quot;&gt;div class=&quot; bar &quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;bar baz&quot;&gt;div class=&quot; bar baz&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;bar2 baz&quot;&gt;div class=&quot; bar2 baz&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;foo&quot;&gt;div class=&quot;foo&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;foo&quot; id=&quot;bar&quot;&gt;div class=&quot;foo&quot; id=&quot;bar&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;foo bar baz&quot;&gt;div class=&quot;foo bar baz&quot;&lt;&#x2F;div&gt;
&lt;p class=&quot;bar&quot;&gt;p class=&quot;bar&quot;&lt;&#x2F;p&gt;
&lt;button id=&quot;demo-run&quot;&gt;run&lt;&#x2F;button&gt;</pre>

<p>The button is used to run the example. The function being called when the button is clicked is assigned by first
  retrieving a <code>Node</code> instance for the button and then using the <code>on</code> method:</p>
<pre class="code prettyprint">&lt;script&gt;
YUI().use(&#x27;node&#x27;, &#x27;profiler&#x27;, function (Y) {

    Y.one(&#x27;#demo-run&#x27;).on(&#x27;click&#x27;, function(){
        Y.Profiler.registerObject(&quot;Y.Node&quot;, Y.Node);
        Y.Profiler.registerObject(&quot;Y.DOM&quot;, Y.DOM);

        var results = Y.Node.all(&#x27;.bar&#x27;);
        results.addClass(&quot;newclass&quot;);

        var report = Y.Profiler.getFullReport(function(data){
            return data.calls &gt; 0;
        });

        Y.Profiler.unregisterObject(&quot;Y.Node&quot;);
        Y.Profiler.unregisterObject(&quot;Y.DOM&quot;);

        &#x2F;&#x2F;output results
        var msg = &quot;&quot;;
        for (var func in report){
            msg += (func + &quot;(): Called &quot; + report[func].calls + &quot; times. Avg: &quot; +
                report[func].avg + &quot;, Min: &quot; + report[func].min + &quot;, Max: &quot; + report[func].max) + &quot;\\n&quot;;
        }
        Y.one(&#x27;#results&#x27;).setHTML(&#x27;&lt;pre&gt;&#x27; + msg + &#x27;&lt;&#x2F;pre&gt;&#x27;);
    });
});
&lt;&#x2F;script&gt;</pre>

<p>The function begins be registering <code>Y.DOM</code> and <code>Y.Node</code> with the Profiler. Note that since these objects don't
  exist in the global scope, the second argument is necessary for <code>registerObject()</code>. Then, the <code>Y.Node.all()</code>
  method is called to retrieve nodes for each element with a class of <code>bar</code>. The result of this operation is a <code>NodeList</code>
  object, on which the <code>addClass()</code> method is called. After that, the full report is returned and the objects are unregistered. The last
  step is to output all of the information that was collected. Even though there's only two methods called explicitly in this example,
  the profiled data indicates that several other methods on <code>Y.DOM</code> and <code>Y.Node</code> were called internally to accomplish the
  tasks.</p>

<h2>Complete Example Source</h2>

<pre class="code prettyprint">&lt;div class=&quot;bar&quot;&gt;div class=&quot;bar&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;bar-baz&quot;&gt;div class=&quot;bar-baz&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;bar &quot;&gt;div class=&quot;bar &quot;&lt;&#x2F;div&gt;
&lt;div class=&quot; bar &quot;&gt;div class=&quot; bar &quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;bar baz&quot;&gt;div class=&quot; bar baz&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;bar2 baz&quot;&gt;div class=&quot; bar2 baz&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;foo&quot;&gt;div class=&quot;foo&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;foo&quot; id=&quot;bar&quot;&gt;div class=&quot;foo&quot; id=&quot;bar&quot;&lt;&#x2F;div&gt;
&lt;div class=&quot;foo bar baz&quot;&gt;div class=&quot;foo bar baz&quot;&lt;&#x2F;div&gt;
&lt;p class=&quot;bar&quot;&gt;p class=&quot;bar&quot;&lt;&#x2F;p&gt;
&lt;button id=&quot;demo-run&quot;&gt;run&lt;&#x2F;button&gt;

&lt;script&gt;
YUI().use(&#x27;node&#x27;, &#x27;profiler&#x27;, function (Y) {

    Y.one(&#x27;#demo-run&#x27;).on(&#x27;click&#x27;, function(){
        Y.Profiler.registerObject(&quot;Y.Node&quot;, Y.Node);
        Y.Profiler.registerObject(&quot;Y.DOM&quot;, Y.DOM);

        var results = Y.Node.all(&#x27;.bar&#x27;);
        results.addClass(&quot;newclass&quot;);

        var report = Y.Profiler.getFullReport(function(data){
            return data.calls &gt; 0;
        });

        Y.Profiler.unregisterObject(&quot;Y.Node&quot;);
        Y.Profiler.unregisterObject(&quot;Y.DOM&quot;);

        &#x2F;&#x2F;output results
        var msg = &quot;&quot;;
        for (var func in report){
            msg += (func + &quot;(): Called &quot; + report[func].calls + &quot; times. Avg: &quot; +
                report[func].avg + &quot;, Min: &quot; + report[func].min + &quot;, Max: &quot; + report[func].max) + &quot;\n&quot;;
        }
        Y.one(&#x27;#results&#x27;).setHTML(&#x27;&lt;pre&gt;&#x27; + msg + &#x27;&lt;&#x2F;pre&gt;&#x27;);
    });
});
&lt;&#x2F;script&gt;</pre>


    </div>
</div>

<div class="yui3-u-1-4">
    <div id="docs-sidebar" class="sidebar">
        
            
        

        

        
            
                <div class="sidebox">
                    <div class="hd">
                        <h2 class="no-toc">Examples</h2>
                    </div>

                    <div class="bd">
                        <ul class="examples">
                            
                                
                                    <li data-description="Demonstrates basic usage of the Profiler for profiling functions.">
                                        <a href="profiler-simple-example.html">Simple Profiling Example</a>
                                    </li>
                                
                            
                                
                                    <li data-description="Demonstrates usage of the Profiler for profiling objects.">
                                        <a href="profiler-object-example.html">Object Profiling Example</a>
                                    </li>
                                
                            
                        </ul>
                    </div>
                </div>
            
        

        
    </div>
</div>




        
    </div>

    <div id="ft"><footer>
        <p class="copyright">
        &copy; 2006-2013 Yahoo! Inc. All rights reserved.<br>
        All code on this site is licensed under the <a href="/license/">BSD License</a> unless stated otherwise.<br>
        <span class="links"><a href="/about/">About This Site</a> &middot; <a href="/security/">Security Contact Info</a></span>
        </p>
    </footer></div>
</div>






    <script src="/yui3/combo/js-search-min.js-hoverable-min.js-main-min.js"></script>



    <script src="/yui3/vendor/prettify/prettify-min.js"></script>
    <script>prettyPrint();</script>



    <script>
    (function() {
        var ga = document.createElement('script'); ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    }());

    (function() {
        var ya = document.createElement('script'); ya.async = true;
        ya.src = ('https:' == document.location.protocol ? 'https://s' : 'http://d') + '.yimg.com/mi/ywa.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ya, s);

        window.onload = function () {
            try {
                var YWATracker = YWA.getTracker("10001393677061", "US");
                YWATracker.submit();
            } catch (eYWATCUnavailable) {
                if (window.console && window.console.warn) {
                    window.console.warn(eYWATCUnavailable.message || "Unknown error");
                }
            }
        };
    }());
    </script>




</body>
</html>
